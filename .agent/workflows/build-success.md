---
description: ビルド失敗を防ぐ鉄則 - コード修正時の必須チェック
---

# Build Success Protocol

コードを修正・生成する際は、以下の鉄則を必ず守ること。

## 修正前の確認
// turbo-all
1. `view_file` で修正対象ファイルの**最新状態**を確認する
2. 自分の記憶（コンテキスト）にあるコードは古い可能性がある

## ピンポイント修正
3. `replace_file_content` は**変更したい部分だけ**に限定する
4. ファイル全体を `write_to_file` で上書きしない
5. 複数箇所を同時に変えない（「ついでに」禁止）

## 段階的変更
6. **1つの機能 → ビルド確認 → 次の機能** のサイクルを守る
7. 「機能追加」と「リファクタリング」を同時に行わない
8. 各段階で動作確認が取れたら **git commit** する

## インポート/依存関係
9. 新しいクラス・型・関数を使う時は、対応する `import` を追加する
10. 削除した機能の `import` は残さない（未使用警告の原因）

## ビルドログ確認
11. `npm run build` の出力を最後まで確認する
12. 警告（Warning）も無視しない
13. エラー時はログから原因箇所を特定してから修正

## クリーンビルド
14. 原因不明のエラーが出たら、まず開発サーバーを再起動
15. それでもダメなら `rm -rf node_modules && npm install && npm run build`
